---
title: "Org-To-Epub"
author: ["James Dyer"]
lastmod: 2024-01-02T21:39:00+00:00
tags: ["emacs", 2024]
categories: ["emacs", "linux"]
draft: true
thumbnail: "/emacs/20240102213958-emacs--Org-To-Epub.jpg"
---

Now I am using e-ink devices a little more I thought it might be interesting to see if I could export my org files to the `epub` format and as my web sites are single org files generated through `ox-hugo` a clear pathway exists by the org export dispatch mechanism.

<!--more-->

Firstly install:

```nil
(use-package ox-epub)
```

I trialled out a `pandoc` workflow but the output was not as consistent as `ox-epub`

This included:

```bash
pandoc -o emacs--all-latex.epub emacs--all.tex
pandoc -o emacs--all.epub emacs--all.org
```

and then export by running:

`(org-export-dispatch)`

It is bound to C-c C-e.

[E] Export to Epub
[e] As Epub file

At the moment I am not too fussy initially some of the images that had:
`#+attr_html: :width 100%`

seemed not to format the images very well, they were generally large and offset and looked messy.

To resolve this I ran `flush-lines` `attr_html: :width 100`

saved the file and then exported, this took care of most of the images.  Of course the width 100% is more for an html export which `org-export-dispatch` is using at the back end but as `#+attr_html: :class emacs-img` seems to work, probably because it doesn't know how to process this as no **css** is applied and is more for html / hugo export.

One fix would be to class css define :width 100% and on this export the image width would be ignored.
